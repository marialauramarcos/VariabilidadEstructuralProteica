import os
from chimera import runCommand as rc # use 'rc' as shorthand for runCommand
from chimera import replyobj # for emitting status messages

# change to folder with data files
os.chdir("C:\Users\Usuario\Desktop\VariabilidadEstructuralProteica\pdbs")

# gather the names of .pdb files in the folder
file_names = [fn for fn in os.listdir(".") if fn.endswith(".pdb")]
for fn in file_names:
	replyobj.status("Processing " + fn) # show what file we're working on
	rc("open " + fn)
	rc("preset apply publication 1") # make everything look nice
	rc("surftransp 15") # make the surface a little bit see-through
        rc("rangecolor bfactor key min cyan mid white max maroon")
	# save image to a file that ends in .png rather than .pdb
	png_name = fn[:-3] + "png"
	rc("copy file " + png_name + " supersample 3")
	rc("close all")
